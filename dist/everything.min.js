var gameLogic;!function(a){function b(){return[["WLion","L","WTrap","WDen","WTrap","L","WTiger"],["L","WDog","L","WTrap","L","WCat","L"],["WMouse","L","WLeopard","L","WWolf","L","WElephant"],["L","R","R","L","R","R","L"],["L","R","R","L","R","R","L"],["L","R","R","L","R","R","L"],["BElephant","L","BWolf","L","BLeopard","L","BMouse"],["L","BCat","L","BTrap","L","BDog","L"],["BTiger","L","BTrap","BDen","BTrap","L","BLion"]]}function c(b,c){for(var e=d(c),f=0;f<a.ROWS;f++)for(var g=0;g<a.COLS;g++){var h=b[f][g],i={row:f,col:g};if(h[0]===e)switch(h.substring(1)){case"Mouse":if(N(b,c,i))return!1;break;case"Cat":if(L(b,c,i))return!1;break;case"Wolf":if(J(b,c,i))return!1;break;case"Dog":if(H(b,c,i))return!1;break;case"Leopard":if(F(b,c,i))return!1;break;case"Tiger":if(D(b,c,i))return!1;break;case"Lion":if(B(b,c,i))return!1;break;case"Elephant":if(z(b,c,i))return!1}}return!0}function d(a){return 0===a?"B":"W"}function e(a){switch(a){case"Mouse":return 0;case"Cat":return 1;case"Wolf":return 2;case"Dog":return 3;case"Leopard":return 4;case"Tiger":return 5;case"Lion":return 6;case"Elephant":return 7}}function f(b){return b.row<0||b.row>=a.ROWS||b.col<0||b.col>=a.COLS?!0:!1}function g(b,c){if(0===b){for(var d=0;d<a.BlackTraps.length;d++){var e=a.BlackTraps[d];if(angular.equals(e,c))return!0}return!1}if(1===b){for(var f=0;f<a.WhiteTraps.length;f++){var e=a.WhiteTraps[f];if(angular.equals(e,c))return!0}return!1}}function h(b){for(var c=0;c<a.RiverPos.length;c++){var d=a.RiverPos[c];if(angular.equals(d,b))return!0}return!1}function i(b){for(var c=0;c<a.BlackTraps.length;c++){var d=a.BlackTraps[c];if(angular.equals(d,b))return!0}return!1}function j(b){for(var c=0;c<a.WhiteTraps.length;c++){var d=a.WhiteTraps[c];if(angular.equals(d,b))return!0}return!1}function k(b){return angular.equals(a.BlackDen,b)?!0:!1}function l(b){return angular.equals(a.WhiteDen,b)?!0:!1}function m(b,c){return 0===b?angular.equals(c,a.BlackDen)?!0:!1:1===b?angular.equals(c,a.WhiteDen)?!0:!1:void 0}function n(a,b){var c=b.row,d=b.col;return"L"===a[c][d]||"R"===a[c][d]||"WTrap"===a[c][d]||"WDen"===a[c][d]||"BTrap"===a[c][d]||"BDen"===a[c][d]?!0:!1}function o(a,b,c){var d=c.row,e=c.col;return n(a,c)?!1:"B"===a[d][e].charAt(0)&&0===b?!0:"W"===a[d][e].charAt(0)&&1===b?!0:!1}function p(b){return"BDen"!==b[a.BlackDen.row][a.BlackDen.col]?"W":"WDen"!==b[a.WhiteDen.row][a.WhiteDen.col]?"B":""}function q(a,b,c){var d=[],e={row:c.row-1,col:c.col},f={row:c.row+1,col:c.col},g={row:c.row,col:c.col-1},h={row:c.row,col:c.col+1};return r(a,b,c,e)&&d.push(e),r(a,b,c,f)&&d.push(f),r(a,b,c,g)&&d.push(g),r(a,b,c,h)&&d.push(h),d}function r(a,b,c,d){if(f(d)||h(d)||m(b,d))return!1;if(c.row!==d.row&&c.col!==d.col)return!1;if(c.row===d.row){if(1!==Math.abs(c.col-d.col))return!1}else if(c.col===d.col){if(1!==Math.abs(c.row-d.row))return!1}else if(angular.equals(c,d))return!1;return x(a,b,c,d)}function s(a,b,c){if(b.row===c.row){var d,e;return b.col<c.col?(d=a[b.row][b.col+1],e=a[b.row][b.col+2]):(d=a[b.row][b.col-1],e=a[b.row][b.col-2]),"Mouse"===d.substring(1)||"Mouse"===e.substring(1)?!0:!1}var d,e,f;return b.row<c.row?(d=a[b.row+1][b.col],e=a[b.row+2][b.col],f=a[b.row+3][b.col]):(d=a[b.row-1][b.col],e=a[b.row-2][b.col],f=a[b.row-3][b.col]),"Mouse"===d.substring(1)||"Mouse"===e.substring(1)||"Mouse"===f.substring(1)?!0:!1}function t(a,b,c){var d=[],e={row:c.row-1,col:c.col};h(e)?s(a,c,e)||(e.row=e.row-3,u(a,b,c,e)&&d.push(e)):u(a,b,c,e)&&d.push(e);var f={row:c.row+1,col:c.col};h(f)?s(a,c,f)||(f.row=f.row+3,u(a,b,c,f)&&d.push(f)):u(a,b,c,f)&&d.push(f);var g={row:c.row,col:c.col-1};h(g)?s(a,c,g)||(g.col=g.col-2,u(a,b,c,g)&&d.push(g)):u(a,b,c,g)&&d.push(g);var i={row:c.row,col:c.col+1};return h(i)?s(a,c,i)||(i.col=i.col+2,u(a,b,c,i)&&d.push(i)):u(a,b,c,i)&&d.push(i),d}function u(a,b,c,d){if(f(d)||h(d)||m(b,d))return!1;if(c.row!==d.row&&c.col!==d.col)return!1;if(c.row===d.row){if(1!==Math.abs(c.col-d.col)&&3!==Math.abs(c.col-d.col))return!1}else if(c.col===d.col){if(1!==Math.abs(c.row-d.row)&&4!==Math.abs(c.row-d.row))return!1}else if(angular.equals(c,d))return!1;if(c.row===d.row){var e;return c.col<d.col?(e={row:c.row,col:c.col+1},h(e)?d.col-c.col===1?!1:s(a,c,d)?!1:x(a,b,c,d):d.col-c.col===3?!1:x(a,b,c,d)):(e={row:c.row,col:c.col-1},h(e)?c.col-d.col===1?!1:s(a,c,d)?!1:x(a,b,c,d):c.col-d.col===3?!1:x(a,b,c,d))}var e;return c.row<d.row?(e={row:c.row+1,col:c.col},h(e)?d.col-c.col===1?!1:s(a,c,d)?!1:x(a,b,c,d):d.col-c.col===4?!1:x(a,b,c,d)):(e={row:c.row-1,col:c.col},h(e)?c.col-d.col===1?!1:s(a,c,d)?!1:x(a,b,c,d):c.col-d.col===4?!1:x(a,b,c,d))}function v(a,b,c){var d=[],e={row:c.row-1,col:c.col},f={row:c.row+1,col:c.col},g={row:c.row,col:c.col-1},h={row:c.row,col:c.col+1};return w(a,b,c,e)&&d.push(e),w(a,b,c,f)&&d.push(f),w(a,b,c,g)&&d.push(g),w(a,b,c,h)&&d.push(h),d}function w(a,b,c,d){if(f(d)||m(b,d))return!1;if(c.row!==d.row&&c.col!==d.col)return!1;if(c.row===d.row){if(1!==Math.abs(c.col-d.col))return!1}else if(c.col===d.col){if(1!==Math.abs(c.row-d.row))return!1}else if(angular.equals(c,d))return!1;return x(a,b,c,d)}function x(a,b,c,d){if(n(a,d))return!0;if(o(a,b,d))return!1;var f=a[c.row][c.col],i=a[d.row][d.col],j=e(f.substring(1)),k=e(i.substring(1));return g(b,d)?!0:j>=k?7===j&&0===k?!1:!0:0===j&&7===k?h(c)?!1:!0:!1}function y(a,b,c){var d=q(a,b,c);return d}function z(a,b,c){return 0!==y(a,b,c).length}function A(a,b,c){var d=t(a,b,c);return d}function B(a,b,c){return 0!==A(a,b,c).length}function C(a,b,c){var d=t(a,b,c);return d}function D(a,b,c){return 0!==C(a,b,c).length}function E(a,b,c){var d=q(a,b,c);return d}function F(a,b,c){return 0!==E(a,b,c).length}function G(a,b,c){var d=q(a,b,c);return d}function H(a,b,c){return 0!==G(a,b,c).length}function I(a,b,c){var d=q(a,b,c);return d}function J(a,b,c){return 0!==I(a,b,c).length}function K(a,b,c){var d=q(a,b,c);return d}function L(a,b,c){return 0!==K(a,b,c).length}function M(a,b,c){var d=v(a,b,c);return d}function N(a,b,c){return 0!==M(a,b,c).length}function O(a,b,c){var d,e=a[c.row][c.col];switch(e.substring(1)){case"Elephant":d=y(a,b,c);break;case"Lion":d=A(a,b,c);break;case"Tiger":d=C(a,b,c);break;case"Leopard":d=E(a,b,c);break;case"Dog":d=G(a,b,c);break;case"Wolf":d=I(a,b,c);break;case"Cat":d=K(a,b,c);break;case"Mouse":d=M(a,b,c)}return d}function P(a,e,f,g){a||(a=b());var m=a[f.row][f.col],n=a[g.row][g.col],o=d(e);if(f.row===g.row&&f.col===g.col)throw new Error("Cannot move to same position.");if("Den"===n.substring(1)&&n[0]===o)throw new Error("Cannot move into you own Den");if(m.charAt(0)!==o)throw new Error("R"===m||"L"===m?"There is no piece to move":"Cannot move opponent's piece");if("Den"===m.substring(1)||"Trap"===m.substring(1))throw new Error("There is no piece to move");if(""!==p(a)||c(a,e))throw new Error("Cannot make a move if the game is over!");if("L"!==n&&"R"!==n&&"Trap"!==n.substring(1)&&"Den"!==n.substring(1)&&o===n.charAt(0))throw new Error("One can only make a move in an empty position or capture opponent's piece!");var q=angular.copy(a),s=m.substring(1);switch(s){case"Elephant":if(!r(a,e,f,g))throw new Error("Illegal move for Elephant.");q[f.row][f.col]=i(f)?"BTrap":j(f)?"WTrap":k(f)?"BDen":l(f)?"WDen":"L",q[g.row][g.col]=m;break;case"Lion":if(!u(a,e,f,g))throw new Error("Illegal move for Lion.");q[f.row][f.col]=i(f)?"BTrap":j(f)?"WTrap":k(f)?"BDen":l(f)?"WDen":"L",q[g.row][g.col]=m;break;case"Tiger":if(!u(a,e,f,g))throw new Error("Illegal move for Lion.");q[f.row][f.col]=i(f)?"BTrap":j(f)?"WTrap":k(f)?"BDen":l(f)?"WDen":"L",q[g.row][g.col]=m;break;case"Leopard":if(!r(a,e,f,g))throw new Error("Illegal move for Lion.");q[f.row][f.col]=i(f)?"BTrap":j(f)?"WTrap":k(f)?"BDen":l(f)?"WDen":"L",q[g.row][g.col]=m;break;case"Dog":if(!r(a,e,f,g))throw new Error("Illegal move for Lion.");q[f.row][f.col]=i(f)?"BTrap":j(f)?"WTrap":k(f)?"BDen":l(f)?"WDen":"L",q[g.row][g.col]=m;break;case"Wolf":if(!r(a,e,f,g))throw new Error("Illegal move for Lion.");q[f.row][f.col]=i(f)?"BTrap":j(f)?"WTrap":k(f)?"BDen":l(f)?"WDen":"L",q[g.row][g.col]=m;break;case"Cat":if(!r(a,e,f,g))throw new Error("Illegal move for Lion.");q[f.row][f.col]=i(f)?"BTrap":j(f)?"WTrap":k(f)?"BDen":l(f)?"WDen":"L",q[g.row][g.col]=m;break;case"Mouse":if(!w(a,e,f,g))throw new Error("Illegal move for Lion.");q[f.row][f.col]=h(f)?"R":i(f)?"BTrap":j(f)?"WTrap":k(f)?"BDen":l(f)?"WDen":"L",q[g.row][g.col]=m;break;default:throw new Error("Unknown piece type!")}var t,v=p(q);return t=""!==v||c(q,1-e)?{endMatch:{endMatchScores:"B"===v?[1,0]:"W"===v?[0,1]:[0,0]}}:{setTurn:{turnIndex:1-e}},[t,{set:{key:"board",value:q}},{set:{key:"deltaFrom",value:{row:f.row,col:f.col}}},{set:{key:"deltaTo",value:{row:g.row,col:g.col}}}]}function Q(a){var b=a.move,c=a.turnIndexBeforeMove,d=a.stateBeforeMove;try{var e=b[2].set.value,f=b[3].set.value,g=d.board,h=P(g,c,e,f);if(!angular.equals(b,h))return!1}catch(i){return!1}return!0}a.ROWS=9,a.COLS=7,a.BlackTraps=[{row:8,col:2},{row:7,col:3},{row:8,col:4}],a.WhiteTraps=[{row:0,col:2},{row:1,col:3},{row:0,col:4}],a.RiverPos=[{row:3,col:1},{row:3,col:2},{row:3,col:4},{row:3,col:5},{row:4,col:1},{row:4,col:2},{row:4,col:4},{row:4,col:5},{row:5,col:1},{row:5,col:2},{row:5,col:4},{row:5,col:5}],a.BlackDen={row:8,col:3},a.WhiteDen={row:0,col:3},a.getInitialBoard=b,a.getTurn=d,a.getElephantPossibleMoves=y,a.canElephantMoveAnywhere=z,a.getLionPossibleMoves=A,a.canLionMoveAnywhere=B,a.getTigerPossibleMoves=C,a.canTigerMoveAnywhere=D,a.getLeopardPossibleMoves=E,a.canLeopardMoveAnywhere=F,a.getDogPossibleMoves=G,a.canDogMoveAnywhere=H,a.getWolfPossibleMoves=I,a.canWolfMoveAnywhere=J,a.getCatPossibleMoves=K,a.canCatMoveAnywhere=L,a.getMousePossibleMoves=M,a.canMouseMoveAnywhere=N,a.getPiecePossibleMoves=O,a.createMove=P,a.isMoveOk=Q}(gameLogic||(gameLogic={}));var game;!function(a){function b(){console.log("Translation of 'RULES_OF_JUNGLE' is "+translate("RULES_OF_JUNGLE")),resizeGameAreaService.setWidthToHeight(7/9),gameService.setGame({minNumberOfPlayers:2,maxNumberOfPlayers:2,isMoveOk:gameLogic.isMoveOk,updateUI:e}),document.addEventListener("animationend",c,!1),document.addEventListener("webkitAnimationEnd",c,!1),document.addEventListener("oanimationend",c,!1),dragAndDropService.addDragListener("gameArea",f)}function c(){$rootScope.$apply(function(){log.info("Animation ended"),B=!0,D&&d()})}function d(){$timeout(function(){gameService.makeMove(aiService.createComputerMove(F.board,G,{millisecondsLimit:800}))},500)}function e(a){log.info("Game got updateUI:",a),B=!1,E=a,F=a.stateAfterMove,F.board||(F.board=gameLogic.getInitialBoard()),C=a.turnIndexAfterMove>=0&&a.yourPlayerIndex===a.turnIndexAfterMove,G=a.turnIndexAfterMove,D=C&&""===a.playersInfo[a.yourPlayerIndex].playerId,D&&(C=!1,F.delta||d()),M="playWhite"===a.playMode?!0:!1}function f(a,b,c){H=document.getElementById("gameArea"),I=document.getElementById("draggingLines"),J=document.getElementById("verticalDraggingLine"),K=document.getElementById("horizontalDraggingLine");var d=b-H.offsetLeft,e=c-H.offsetTop;if(0>d||0>e||d>=H.clientWidth||e>=H.clientHeight){if(I.style.display="none",!L)return;var f=h();j({top:e-f.height/2,left:d-f.width/2})}else{var m=Math.floor(gameLogic.COLS*d/H.clientWidth),o=Math.floor(gameLogic.ROWS*e/H.clientHeight),p=m,q=o;M&&(q=gameLogic.ROWS-o,p=gameLogic.COLS-m);var r=i(q,p);if(J.setAttribute("x1",r.width.toString()),J.setAttribute("x2",r.width.toString()),K.setAttribute("y1",r.height.toString()),K.setAttribute("y2",r.height.toString()),"touchstart"===a&&N.row<0&&N.col<0){var s=F.board[q][p];if(s&&g(s)){N={row:o,col:m},L=document.getElementById("img_"+x(o,m)+"_"+o+"x"+m),L&&(L.style["z-index"]=++Q,L.style.width="115%",L.style.height="115%",L.style.position="absolute"),P=n(q,p);for(var t=0;t<P.length;t++)P[t].style.border="5px solid #99FF33"}}if(!L)return void(I.style.display="none");"touchend"===a||"touchcancel"===a||"touchleave"===a||"mouseup"===a?(I.style.display="none",O={row:o,col:m},l(N,O)):(j(k(o,m)),r=i(o,m))}if("touchend"===a||"touchcancel"===a||"touchleave"===a||"mouseup"===a){j(k(N.row,N.col)),L.style.width="100%",L.style.height="100%",L.style.position="absolute";for(var t=0;t<P.length;t++)P[t].style.border="1px solid #B8860B";N={row:-1,col:-1},O={row:-1,col:-1},L=null,P=[]}}function g(a){if("L"===a||"R"===a||"WTrap"===a||"BTrap"===a||"WDen"===a||"BDen"===a)return!1;var b=gameLogic.getTurn(G);return b===a[0]?!0:!1}function h(){var a={width:H.clientWidth/gameLogic.COLS,height:H.clientHeight/gameLogic.ROWS};return a}function i(a,b){var c=h(),d={width:b*c.width+c.width/2,height:a*c.height+c.height/2};return d}function j(a){var b=k(N.row,N.col);L.style.left=a.left-b.left+"px",L.style.top=a.top-b.top+"px"}function k(a,b){var c=h(),d={top:a*c.height,left:b*c.width};return d}function l(a,b){m(a,b)}function m(a,b){var c="Dragged piece from "+a.row+"*"+a.col+" to "+b.row+"*"+b.col;if(log.info(c),"?throwException"===window.location.search)throw new Error("Throwing the error because URL has '?throwException'");if(C){M&&(a.row=gameLogic.ROWS-a.row,a.col=gameLogic.COLS-a.col,b.row=gameLogic.ROWS-b.row,b.col=gameLogic.COLS-b.col);try{var d=gameLogic.createMove(F.board,E.turnIndexAfterMove,a,b);C=!1,gameService.makeMove(d),log.info(["Make movement from "+a.row+"x"+a.col+" to "+b.row+"x"+b.col])}catch(e){return void log.info(["Illegal movement from "+a.row+"x"+a.col+" to "+b.row+"x"+b.col])}}}function n(a,b){for(var c={row:a,col:b},d=gameLogic.getPiecePossibleMoves(F.board,E.turnIndexAfterMove,c),e=[],f=0;f<d.length;f++){var g=d[f],h=g;M&&(h.row=gameLogic.ROWS-h.row,h.col=gameLogic.COLS-h.col);var i="background"+h.row+"x"+h.col;e.push(document.getElementById(i))}return e}function o(a,b){M&&(a=gameLogic.ROWS-a,b=gameLogic.COLS-b);var c=F.board[a][b];return"L"===c||"R"===c||"WDen"===c||"BDen"===c||"WTrap"===c||"BTrap"===c?!1:!0}function p(a,b){return!q(a,b)}function q(a,b){return a>=3&&5>=a&&b>=1&&2>=b||a>=3&&5>=a&&b>=4&&5>=b?!0:!1}function r(a,b){return 0===a&&2===b||1===a&&3===b||0===a&&4===b?!0:!1}function s(a,b){return 8===a&&2===b||7===a&&3===b||8===a&&4===b?!0:!1}function t(a,b){return 0===a&&3===b?!0:!1}function u(a,b){return 8===a&&3===b?!0:!1}function v(a,b){M&&(a=gameLogic.ROWS-a,b=gameLogic.COLS-b);var c=F.board[a][b];return w(c)}function w(a){switch(a){case"WLion":return"imgs/WLion.gif";case"WTiger":return"imgs/WTiger.gif";case"WDog":return"imgs/WDog.gif";case"WCat":return"imgs/WCat.gif";case"WMouse":return"imgs/WMouse.gif";case"WLeopard":return"imgs/WLeopard.gif";case"WWolf":return"imgs/WWolf.gif";case"WElephant":return"imgs/WElephant.gif";case"BLion":return"imgs/BLion.gif";case"BTiger":return"imgs/BTiger.gif";case"BDog":return"imgs/BDog.gif";case"BCat":return"imgs/BCat.gif";case"BMouse":return"imgs/BMouse.gif";case"BLeopard":return"imgs/BLeopard.gif";case"BWolf":return"imgs/BWolf.gif";case"BElephant":return"imgs/BElephant.gif";default:return""}}function x(a,b){M&&(a=gameLogic.ROWS-a,b=gameLogic.COLS-b);var c=F.board[a][b];return"R"===c||"L"===c||"WDen"===c||"BDen"===c||"WTrap"===c||"BTrap"===c?"":c}function y(a,b){M&&(a=gameLogic.ROWS-a,b=gameLogic.COLS-b);var c=F.board[a][b];return"B"===c.charAt(0)&&"BTrap"!==c&&"BDen"!==c}function z(a,b){M&&(a=gameLogic.ROWS-a,b=gameLogic.COLS-b);var c=F.board[a][b];return"W"===c.charAt(0)&&"WTrap"!==c&&"WDen"!==c}function A(a,b){if(!F.board)return!0;M&&(a=gameLogic.ROWS-a,b=gameLogic.COLS-b);var c=F.board[a][b],d=gameLogic.getTurn(G);if(d===c.charAt(0)&&"Den"!==c.substring(1)&&"Trap"!==c.substring(1)){var e={row:a,col:b},f=gameLogic.getPiecePossibleMoves(F.board,E.turnIndexAfterMove,e);return f.length>0?!0:!1}return!1}var B=!1,C=!1,D=!1,E=null,F=null,G=null;a.isHelpModalShown=!1;var H,I,J,K,L,M=!1,N={row:-1,col:-1},O={row:-1,col:-1},P=[],Q=61;a.init=b,a.handleDragEvent=f,a.shouldShowImage=o,a.isLand=p,a.isRiver=q,a.isWTrap=r,a.isBTrap=s,a.isWDen=t,a.isBDen=u,a.getImageSrc=v,a.getPieceKindId=x,a.isBlackPiece=y,a.isWhitePiece=z,a.canSelect=A}(game||(game={})),angular.module("myApp",["ngTouch","ui.bootstrap","gameServices"]).run(function(){$rootScope.game=game,translate.setLanguage("en",{RULES_OF_JUNGLE:"Rules of Jungle",RULES_SLIDE1:"There are two players, black and white. Black goes first. Each player has eight different pieces representing different animals.",RULES_SLIDE2:"Higher ranking pieces can capture all pieces of identical or weaker ranking. However there is one exception: The mouse may capture the elephant, while the elephant cannot capture the mouse",RULES_SLIDE3:"The animal ranking, from strongest to weakest, is: Elephant, Lion, Tiger, Leopard, Wolf, Dog, Cat, Mouse",RULES_SLIDE4:"The rat is the only animal that is allowed to go onto a water square. The rat may not capture the elephant or another rat on land directly from a water square.",RULES_SLIDE5:"Lions and tigers are able to leap over water (either horizontally or vertically). They cannot jump over the water when a rat is on any of the intervening water squares.",RULES_SLIDE6:"When a piece is in an opponent's trap, any of the opponent's pieces may capture it regardless its strength. A piece in one of its own traps is unaffected.",CLOSE:"Close"}),game.init()});var aiService;!function(a){function b(a,b){var c=[];if(!a)return[];for(var d=gameLogic.getTurn(b),e=0;e<gameLogic.ROWS;e++)for(var f=0;f<gameLogic.COLS;f++){var g=a[e][f];if("L"!==g&&"R"!==g&&g.charAt(0)===d){var h,i={row:e,col:f};switch(g.substring(1)){case"Elephant":if(h=gameLogic.getElephantPossibleMoves(a,b,i),h.length>0)for(var j=0;j<h.length;j++){var k=h[j];c.push(gameLogic.createMove(a,b,i,k))}break;case"Lion":if(h=gameLogic.getLionPossibleMoves(a,b,i),h.length>0)for(var l=0;l<h.length;l++){var k=h[l];c.push(gameLogic.createMove(a,b,i,k))}break;case"Tiger":if(h=gameLogic.getTigerPossibleMoves(a,b,i),h.length>0)for(var m=0;m<h.length;m++){var k=h[m];c.push(gameLogic.createMove(a,b,i,k))}break;case"Leopard":if(h=gameLogic.getLeopardPossibleMoves(a,b,i),h.length>0)for(var n=0;n<h.length;n++){var k=h[n];c.push(gameLogic.createMove(a,b,i,k))}break;case"Dog":if(h=gameLogic.getDogPossibleMoves(a,b,i),h.length>0)for(var o=0;o<h.length;o++){var k=h[o];c.push(gameLogic.createMove(a,b,i,k))}break;case"Wolf":if(h=gameLogic.getWolfPossibleMoves(a,b,i),h.length>0)for(var p=0;p<h.length;p++){var k=h[p];c.push(gameLogic.createMove(a,b,i,k))}break;case"Cat":if(h=gameLogic.getCatPossibleMoves(a,b,i),h.length>0)for(var q=0;q<h.length;q++){var k=h[q];c.push(gameLogic.createMove(a,b,i,k))}break;case"Mouse":if(h=gameLogic.getMousePossibleMoves(a,b,i),h.length>0)for(var r=0;r<h.length;r++){var k=h[r];c.push(gameLogic.createMove(a,b,i,k))}}}}return c}function c(a,c,g){for(var h=gameLogic.getTurn(c),i=0,j=0;j<gameLogic.ROWS;j++)for(var k=0;k<gameLogic.COLS;k++){var l=a[j][k];l[0]===h&&"Den"!==l.substring(1)&&"Trap"!==l.substring(1)&&i++}if(i>4){var m=b(a,c),n=Math.floor(Math.random()*m.length);return m[n]}return alphaBetaService.alphaBetaDecision([null,{set:{key:"board",value:a}}],c,e,d,"?debug"===window.location.search?f:null,g)}function d(a){if(a[0].endMatch){var b=a[0].endMatch.endMatchScores;return b[0]>b[1]?Number.POSITIVE_INFINITY:b[0]<b[1]?Number.NEGATIVE_INFINITY:0}return 0}function e(a,c){return b(a[1].set.value,c)}function f(a){return"\n"+a[1].set.value.join("\n")+"\n"}a.getPossibleMoves=b,a.createComputerMove=c}(aiService||(aiService={}));
//# sourceMappingURL=everything.min.js.map